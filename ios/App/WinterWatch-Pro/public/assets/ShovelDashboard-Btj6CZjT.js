import{d as $e,r as t,s as C,u as Ge,a as Ve,j as e,L as Ne,C as U,b as R,B as b,c as f,e as Be,I as q}from"./index-BTTndiCa.js";import{u as Le,a as Te,b as Je,c as He,d as Ze,C as ze,L as Ke,N as be,f as ye,P as Qe,e as we}from"./distance-DgZguLxW.js";import{A as ke}from"./AppLayout-CdmLHGoC.js";import{B as Se,S as Ye,a as Xe,b as es,c as ss,d as ts}from"./select-CkuTWz4P.js";import{T as as}from"./textarea-hKNpP3I7.js";import{C as se}from"./clock-91DdfKYf.js";import{L as _e}from"./log-out-D3n32clD.js";import{P as rs,T as cs}from"./timer-9Sr9DBrb.js";import{S as ls}from"./snowflake-Cz-A_SfV.js";import{S as Ce}from"./shovel-CsAXD17G.js";import{f as te}from"./format-D46ChU1D.js";import"./differenceInMilliseconds-CqskIra_.js";import"./plus-DnkJBOXp.js";import"./index-C_FqIwIg.js";import"./Combination-BI3QGdrN.js";import"./truck-GV-QDD0s.js";import"./user-MPZ2r4HK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=$e("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);function ns(){const{employee:g}=Le(),{getCurrentLocation:L}=Te(),[l,J]=t.useState([]),[y,w]=t.useState(null),[T,n]=t.useState([]),[N,$]=t.useState(!0),[H,v]=t.useState(null),F=t.useCallback(async()=>{try{const{data:r,error:c}=await C.from("accounts").select("*").eq("is_active",!0).in("service_type",["shovel","both"]).order("priority",{ascending:!0}).order("name",{ascending:!0});if(c)throw c;J(r||[])}catch(r){console.error("Error fetching accounts:",r),v("Failed to load accounts")}},[]),m=t.useCallback(async()=>{if(!g){w(null);return}try{const{data:r,error:c}=await C.from("shovel_work_logs").select(`
          *,
          account:accounts(*)
        `).eq("employee_id",g.id).eq("status","in_progress").order("check_in_time",{ascending:!1}).limit(1).single();if(c&&c.code!=="PGRST116")throw c;w(r)}catch(r){console.error("Error fetching active shovel work log:",r)}},[g]),h=t.useCallback(async()=>{if(!g){n([]);return}try{const r=new Date;r.setHours(0,0,0,0);const{data:c,error:o}=await C.from("shovel_work_logs").select(`
          *,
          account:accounts(*)
        `).eq("employee_id",g.id).gte("created_at",r.toISOString()).order("created_at",{ascending:!1}).limit(10);if(o)throw o;n(c||[])}catch(r){console.error("Error fetching recent shovel work logs:",r)}},[g]);return t.useEffect(()=>{(async()=>{$(!0),await F(),await m(),await h(),$(!1)})()},[F,m,h]),{accounts:l,activeWorkLog:y,recentWorkLogs:T,isLoading:N,error:H,checkIn:async(r,c="shovel",o)=>{if(!g)return v("No employee record found"),!1;const p=await L();try{const{data:O,error:G}=await C.from("shovel_work_logs").insert({account_id:r,employee_id:g.id,service_type:c,status:"in_progress",check_in_time:new Date().toISOString(),check_in_latitude:(p==null?void 0:p.latitude)??null,check_in_longitude:(p==null?void 0:p.longitude)??null,team_member_ids:o&&o.length>0?o:null}).select(`
          *,
          account:accounts(*)
        `).single();if(G)throw G;return w(O),await h(),!0}catch(O){return console.error("Error checking in:",O),v("Failed to check in"),!1}},checkOut:async r=>{if(!y)return v("No active work log found"),!1;const c=await L();try{const{error:o}=await C.from("shovel_work_logs").update({status:"completed",check_out_time:new Date().toISOString(),check_out_latitude:(c==null?void 0:c.latitude)??null,check_out_longitude:(c==null?void 0:c.longitude)??null,areas_cleared:r.areasCleared??null,ice_melt_used_lbs:r.iceMeltUsedLbs??null,snow_depth_inches:r.snowDepthInches??null,weather_conditions:r.weatherConditions??null,notes:r.notes??null,photo_urls:r.photoUrls??null}).eq("id",y.id);if(o)throw o;return w(null),await h(),!0}catch(o){return console.error("Error checking out:",o),v("Failed to check out"),!1}},updateActiveWorkLog:async r=>{if(!y)return v("No active work log found"),!1;try{const c={};r.teamMemberIds!==void 0&&(c.team_member_ids=r.teamMemberIds.length>0?r.teamMemberIds:null),r.serviceType!==void 0&&(c.service_type=r.serviceType);const{data:o,error:p}=await C.from("shovel_work_logs").update(c).eq("id",y.id).select(`
          *,
          account:accounts(*)
        `).single();if(p)throw p;return w(o),!0}catch(c){return console.error("Error updating work log:",c),v("Failed to update work log"),!1}},refreshData:async()=>{await F(),await m(),await h()}}}function _s(){var je;const{profile:g}=Ge(),{employee:L,activeShift:l,isLoading:J,clockIn:y,clockOut:w}=Le(),{accounts:T,activeWorkLog:n,recentWorkLogs:N,isLoading:$,checkIn:H,checkOut:v,updateActiveWorkLog:F}=ns(),{location:m,getCurrentLocation:h,isLoading:M}=Te(),{photos:Z,previews:re,isUploading:P,uploadProgress:r,addPhotos:c,removePhoto:o,clearPhotos:p,uploadPhotos:O,canAddMore:G}=Je({folder:"shovel-logs"}),{toast:d}=Ve(),[x,ce]=t.useState(""),[i,z]=t.useState("shovel"),[u,le]=t.useState([]),[I,ne]=t.useState(""),[E,oe]=t.useState(""),[D,Ie]=t.useState("31"),[W,Ee]=t.useState("Cloudy"),[V,De]=t.useState("11"),[ie,de]=t.useState(""),[K,me]=t.useState({hours:0,minutes:0,seconds:0}),[Q,ue]=t.useState({hours:0,minutes:0,seconds:0}),[he,We]=t.useState([]);He({temperature:D,conditions:W,jobsCompleted:N.filter(s=>s.status==="completed").length,isCheckedIn:!!n,currentLocation:x?(je=T.find(s=>s.id===x))==null?void 0:je.name:void 0});const j=l?`shovel-team-${l.id}`:null,[pe,xe]=t.useState(!1);t.useEffect(()=>{if(j&&!pe){const s=localStorage.getItem(j);if(s)try{const a=JSON.parse(s);Array.isArray(a)&&a.length>0&&le(a)}catch{}xe(!0)}j||xe(!1)},[j,pe]),t.useEffect(()=>{j&&u.length>0&&localStorage.setItem(j,JSON.stringify(u))},[j,u]);const fe=t.useRef((l==null?void 0:l.id)??null);t.useEffect(()=>{const s=fe.current,a=(l==null?void 0:l.id)??null;s&&!a&&localStorage.removeItem(`shovel-team-${s}`),fe.current=a},[l==null?void 0:l.id]),t.useEffect(()=>{h();const s=setInterval(()=>{h()},3e4);return()=>clearInterval(s)},[h]),t.useEffect(()=>{(async()=>{const{data:a,error:S}=await C.from("employees").select("*").in("category",["shovel","both"]).eq("is_active",!0).order("first_name");!S&&a&&We(a)})()},[]),t.useEffect(()=>{if(!l){me({hours:0,minutes:0,seconds:0});return}const s=()=>{const S=new Date(l.clock_in_time),_=we(new Date,S),Y=Math.floor(_/3600),X=Math.floor(_%3600/60),ee=_%60;me({hours:Y,minutes:X,seconds:ee})};s();const a=setInterval(s,1e3);return()=>clearInterval(a)},[l]),t.useEffect(()=>{if(!n||!n.check_in_time){ue({hours:0,minutes:0,seconds:0});return}const s=()=>{const S=new Date(n.check_in_time),_=we(new Date,S),Y=Math.floor(_/3600),X=Math.floor(_%3600/60),ee=_%60;ue({hours:Y,minutes:X,seconds:ee})};s();const a=setInterval(s,1e3);return()=>clearInterval(a)},[n]);const B=t.useMemo(()=>m?T.map(s=>{if(s.latitude&&s.longitude){const a=Ze(m.latitude,m.longitude,s.latitude,s.longitude);return{account:s,distance:a}}return{account:s,distance:null}}).sort((s,a)=>s.distance===null&&a.distance===null?0:s.distance===null?1:a.distance===null?-1:s.distance-a.distance):T.map(s=>({account:s,distance:null})),[m,T]),k=t.useMemo(()=>{if(B.length===0)return null;const s=B[0];return s.distance!==null?s:null},[B]);t.useEffect(()=>{k&&!x&&ce(k.account.id)},[k,x]);const Ae=t.useCallback(async()=>{await h(),d({title:"Location updated"})},[h,d]),Fe=async()=>{const s=await y();d(s?{title:"Shift started successfully!"}:{variant:"destructive",title:"Failed to start shift"})},Me=async()=>{const s=await w();d(s?{title:"Shift ended successfully!"}:{variant:"destructive",title:"Failed to end shift"})},ge=async()=>{if(!x){d({variant:"destructive",title:"Please select an account"});return}const a=await H(x,i==="salt"?"ice_melt":i,u);d(a?{title:"Checked in at account!"}:{variant:"destructive",title:"Failed to check in"})},Pe=async()=>{let s=[];Z.length>0&&n&&(s=await O(n.id)),await v({areasCleared:[],iceMeltUsedLbs:E?parseFloat(E):void 0,snowDepthInches:I?parseFloat(I):void 0,notes:ie||void 0,weatherConditions:W||void 0,photoUrls:s.length>0?s:void 0})?(j&&u.length>0&&localStorage.setItem(j,JSON.stringify(u)),d({title:"Work completed!"}),de(""),oe(""),ne(""),p()):d({variant:"destructive",title:"Failed to check out"})},Oe=async()=>{n?await Pe():await ge()},Ue=s=>{le(a=>a.includes(s)?a.filter(S=>S!==s):[...a,s])},ve=t.useMemo(()=>!(!x||u.length===0||i!=="salt"&&(!I||I.trim()==="")||i!=="shovel"&&(!E||E.trim()==="")||!D||D.trim()===""||!W||W.trim()===""||!V||V.trim()===""),[x,u,I,E,D,W,V,i]);if(J||$)return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:e.jsx(Ne,{className:"h-8 w-8 animate-spin text-purple-500"})});if(!L)return e.jsx(ke,{children:e.jsx(U,{className:"border-yellow-500/50 bg-yellow-500/5",children:e.jsxs(R,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[e.jsx(ze,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Employee Record Not Found"})]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Your user account is not linked to an employee record. Please contact your manager."})]})})});const Re=`${L.first_name} ${L.last_name}`;N.filter(s=>s.status==="completed").length,N.filter(s=>s.service_type==="shovel"||s.service_type==="both").length,N.filter(s=>s.service_type==="ice_melt"||s.service_type==="salt").length;const A=s=>s.toString().padStart(2,"0");return e.jsx(ke,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:e.jsx(ae,{className:"h-5 w-5 text-purple-400"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Shovel Crew"}),e.jsxs(Se,{variant:"outline",className:"bg-[hsl(var(--card))]/50 border-border/50 text-muted-foreground",children:[D,"°F"]})]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",Re,"! Track your shovel crew services."]})]}),e.jsx(U,{className:"bg-[hsl(var(--card))]/80 border-border/50",children:e.jsx(R,{className:"py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx(se,{className:"h-5 w-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Daily Shift"}),l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xl font-mono font-bold text-purple-400",children:[A(K.hours),":",A(K.minutes),":",A(K.seconds)]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"elapsed"})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Shift not started"})]})]}),l?e.jsxs(b,{onClick:Me,variant:"outline",className:"border-red-500/50 text-red-400 hover:bg-red-500/20",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"End Shift"]}):e.jsxs(b,{onClick:Fe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Start Shift"]})]})})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Quick Log Entry"}),e.jsxs("div",{className:"bg-purple-600 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"h-5 w-5 text-purple-200"}),e.jsx("div",{children:k?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"font-medium text-white",children:[e.jsx("span",{className:"text-purple-200",children:"Nearest:"})," ",k.account.name," ",e.jsx("span",{className:"text-purple-200",children:k.distance!==null?ye(k.distance):""})]}),e.jsxs("p",{className:"text-sm text-purple-200",children:["GPS accuracy: ±",m!=null&&m.accuracy?Math.round(m.accuracy):"--"," meters"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-white",children:M?"Getting location...":"Location unavailable"}),e.jsx("p",{className:"text-sm text-purple-200",children:M?"Please wait":"Enable GPS to find nearest account"})]})})]}),e.jsx("button",{onClick:Ae,disabled:M,className:"p-2 rounded-full hover:bg-purple-500/30 transition-colors disabled:opacity-50",children:e.jsx(be,{className:`h-5 w-5 text-white ${M?"animate-pulse":""}`})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{className:"text-sm text-muted-foreground",children:"Select Account (verify or change)"}),e.jsxs(Ye,{value:x,onValueChange:ce,disabled:!!n,children:[e.jsx(Xe,{className:"bg-[hsl(var(--card))]/80 border-border/50",children:e.jsx(es,{placeholder:"Select nearest account"})}),e.jsx(ss,{className:"bg-[hsl(var(--card))] border-border",children:B.filter(({account:s})=>s.id&&s.id.trim()!=="").map(({account:s,distance:a})=>e.jsx(ts,{value:s.id,children:e.jsxs("span",{className:"flex items-center justify-between w-full gap-2",children:[e.jsx("span",{children:s.name}),a!==null&&e.jsx("span",{className:"text-muted-foreground text-xs",children:ye(a)})]})},s.id))})]})]}),!n&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{className:"w-full bg-purple-600 hover:bg-purple-700",onClick:ge,disabled:!l||!x,children:[e.jsx(rs,{className:"h-4 w-4 mr-2"}),"Check In & Start Timer"]}),!l&&e.jsxs("p",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-red-400",children:"Start your "}),e.jsx("span",{className:"text-yellow-400",children:"daily shift"}),e.jsx("span",{className:"text-red-400",children:" first via Time Clock"})]})]}),n&&e.jsx(U,{className:"border-green-500/50 bg-green-500/10",children:e.jsx(R,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-400",children:"Currently working at location"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Started ",n.check_in_time?te(new Date(n.check_in_time),"h:mm a"):"Unknown"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4 text-green-400"}),e.jsxs("span",{className:"text-lg font-mono font-bold text-green-400",children:[A(Q.hours),":",A(Q.minutes),":",A(Q.seconds)]})]})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{className:"text-sm",children:["Service Type ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(b,{variant:i==="shovel"?"default":"ghost",className:i==="shovel"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-transparent hover:bg-muted/30",onClick:()=>z("shovel"),children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Shovel Walks"]}),e.jsxs(b,{variant:i==="salt"?"default":"ghost",className:i==="salt"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-transparent hover:bg-muted/30",onClick:()=>z("salt"),children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Salt Walks"]}),e.jsxs(b,{variant:i==="both"?"default":"ghost",className:i==="both"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-transparent hover:bg-muted/30",onClick:()=>z("both"),children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Shovel/Salt Walks"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(f,{className:"text-sm flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Team Members ",e.jsx("span",{className:"text-red-400",children:"*"})]}),n&&u.length>0&&e.jsx(b,{size:"sm",variant:"outline",className:"h-7 text-xs border-purple-500/50 text-purple-400 hover:bg-purple-500/20",onClick:async()=>{const a=await F({teamMemberIds:u,serviceType:i==="salt"?"ice_melt":i});d(a?{title:"Team updated!"}:{variant:"destructive",title:"Failed to update team"})},children:"Save Changes"})]}),!n&&u.length===0&&e.jsx("p",{className:"text-xs text-amber-400",children:"Select at least one team member to check in"}),e.jsx(U,{className:"bg-[hsl(var(--card))]/50 border-border/30",children:e.jsx(R,{className:"py-3 space-y-2",children:he.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No shovel crew members found"}):he.map(s=>e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>Ue(s.id),children:[e.jsx(Be,{checked:u.includes(s.id),className:"border-purple-500 data-[state=checked]:bg-purple-600"}),e.jsxs("span",{className:"text-sm",children:[s.first_name," ",s.last_name]})]},s.id))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{className:"text-sm",children:["Snow Depth (inches) ",i!=="salt"&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(q,{placeholder:"e.g., 3.5",value:I,onChange:s=>ne(s.target.value),className:"bg-[hsl(var(--card))]/50 border-border/30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{className:"text-sm",children:["Salt Used (lbs) ",i!=="shovel"&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(q,{placeholder:"e.g., 50",value:E,onChange:s=>oe(s.target.value),className:"bg-[hsl(var(--card))]/50 border-border/30"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{className:"text-sm",children:["Temp (°F) ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(q,{value:D,onChange:s=>Ie(s.target.value),className:"bg-[hsl(var(--card))]/50 border-border/30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{className:"text-sm",children:["Weather ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(q,{value:W,onChange:s=>Ee(s.target.value),className:"bg-[hsl(var(--card))]/50 border-border/30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{className:"text-sm",children:["Wind (mph) ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(q,{value:V,onChange:s=>De(s.target.value),className:"bg-[hsl(var(--card))]/50 border-border/30"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{className:"text-sm",children:"Notes (Optional)"}),e.jsx(as,{placeholder:"Any additional notes...",value:ie,onChange:s=>de(s.target.value),className:"bg-[hsl(var(--card))]/50 border-border/30 min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{className:"text-sm",children:"Photo (Optional)"}),e.jsx(Qe,{photos:Z,previews:re,isUploading:P,uploadProgress:r,canAddMore:G,onAddPhotos:c,onRemovePhoto:o})]}),e.jsx(b,{onClick:Oe,disabled:!l||!ve||P,className:`w-full py-6 text-lg font-semibold transition-colors ${!l||!ve||P?"bg-muted text-muted-foreground cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:P?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-5 w-5 mr-2 animate-spin"}),"Uploading Photos..."]}):n?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"h-5 w-5 mr-2"}),"Complete & Log Service"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),"Log Service"]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Recent Activity"}),e.jsx(U,{className:"bg-[hsl(var(--card))]/50 border-border/30 min-h-[300px]",children:e.jsx(R,{className:"py-6",children:N.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(se,{className:"h-8 w-8 text-muted-foreground mb-3"}),e.jsx("p",{className:"font-medium text-muted-foreground",children:"No activity yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start logging your work!"})]}):e.jsx("div",{className:"space-y-3",children:N.map(s=>{var a;return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx(Ce,{className:"h-4 w-4 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:((a=s.account)==null?void 0:a.name)||"Unknown"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.check_in_time&&te(new Date(s.check_in_time),"h:mm a"),s.check_out_time&&` - ${te(new Date(s.check_out_time),"h:mm a")}`]})]})]}),e.jsx(Se,{variant:"outline",className:s.status==="completed"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:s.status==="completed"?"Done":"Active"})]},s.id)})})})})]})]})]})})}export{_s as default};
